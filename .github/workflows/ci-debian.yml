# Copyright (C) 2023, RTE (http://www.rte-france.com)
# SPDX-License-Identifier: Apache-2.0

name: CI debian

env:
  WORK_DIR: /tmp/seapath_ci_${{ github.run_id }}_${{ github.run_attempt }}_${{ github.sha }}

on:
  pull_request:
    types: [opened, reopened, synchronize]
    branches: [debian-main]


jobs:
  CI:
    runs-on: self-hosted
    steps:

      - name: Initialize sources
        run: exit 0

      - name: Configure Debian
        id: conf
        run: exit 0

      - name: Launch system test
        run: exit 0

      - name: Launch latency tests
        run: exit 0

      - name: Upload test report
        if: ${{ failure() && steps.conf.conclusion == 'success' }}
        run: exit 0

      - name: Clean
        if: always()
        run: exit 0
